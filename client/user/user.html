<template name="User">
  {{#if currentUser}}
  {{> profileupdate}}
  {{/if}}
</template>

<template name="profileupdate">
  <form class="ui form profileupdate">
    <h1 class="ui header">Your Profile</h1>

    <h4 class="ui dividing header">First, the basics</h4>

    <div class="fields">

      <div class="ten wide field center aligned">
        <div class="photo field">
          <label>Upload Photo</label>
          {{#if user.image}}
          <img src="{{user.image}}" name="image" id="profile-image">   
          {{else}}
          <img src="/img/roaree.jpg" name="image" id="profile-image">
          {{/if}}
        </div>

        <div class="field">
          {{> upload_semanticUI contentType='images' formData=userIdData }}
          <div class="ui label helptext">Please upload a square image of at least 300x300 px resolution. Keep it under 1000x1000 px.</div>
        </div>
      </div>

      <div class="six wide field">
        <div class="field">
          <label>Name</label>
          <input type="text" name="name" value="{{user.name}}" placeholder="Roaree TheLion" />
        </div>

        <div class="field">
          <label>What do you study?</label>
          <input type="text" name="major" value="{{user.major}}" placeholder="Economics" />
        </div>

        <div class="field">
          <label>Year</label>
          <select name="year" class="ui dropdown">
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
          </select>
        </div>

        <div class="field">
          <label>School</label>
          <input name="school" type="radio" id="SEAS" value="SEAS" />
          <label for="SEAS">SEAS</label>
          <input name="school" type="radio" id="CC" value="CC" />
          <label for="CC">CC</label>
          <input name="school" type="radio" id="GS" value="GS" />
          <label for="GS">GS</label>
          <input name="school" type="radio" id="BC" value="BC" />
          <label for="BC">BC</label>
        </div>

      </div>
    </div>

    <h4 class="ui dividing header">More about you</h4>

    <div class="field">
      <label for="about">Tell the world a little bit about yourself (400 chars)</label>
      <textarea type="text" name="about" value="{{user.about}}" placeholder="2-3 lines about yourself." rows="4"></textarea>
    </div>

    <div class="field">
      <label>What do you like? (150 chars)</label>
      <textarea type="text" name="likes" value="{{user.likes}}" placeholder="football, cheese, marching band, scala, stuffy costumes, epistemology, taqueria y fonda" rows="3"></textarea>
    </div>

    <div class="field">
      <label>What are some things people should contact you for? (250 chars)</label>
      <textarea type="text" name="contactfor" value="{{user.contactfor}}" placeholder="learning how to dance, career advice for prospective mascots, understanding relativistic quantum field theory" rows="3"></textarea>
    </div>

    <div class="field">
      <label>When are you generally free? (150 chars)</label>
      <input type="text" name="availability" value="{{user.availability}}" placeholder="Fridays between 11 am and 1 pm. Any time before 4 pm on Saturday." />
    </div>

    <h4 class="ui dividing header">Are you on the interwebz?</h4>

    <div class="fields">
      <div class="six wide field">
        <label>Twitter</label>
        <input type="text" name="twitter" value="{{user.twitter}}" placeholder="Link to your Twitter page" />
      </div>

      <div class="six wide field">
        <label>Facebook</label>
        <input type="text" name="facebook" value="{{user.facebook}}" placeholder="Link to your Facebook profile" />
      </div>

      <div class="six wide field">
        <label>LinkedIn</label>
        <input type="text" name="linkedin" value="{{user.linkedin}}" placeholder="Public link to your LinkedIn profile" />
      </div>
    </div>

    <h4 class="ui dividing header">How expansive of an audience do you want to reach?</h4>

    <div class="field">
      <label>Do you want to make your profile private?</label> It will only be visible to logged in Columbia students. Note that you will likely receive fewer coffee requests. We recommend keeping it public.
      <div class="switch">
        <label>
          Private
          <input type="checkbox" name="make_public" id="make_public">
          <span class="lever"></span>
          Public
        </label>
      </div>
    </div>

    <div class="field agreement">
      <div class="card">
        <div class="card-content grey-text text-darken-1">
          <input type="checkbox" name="agreement" id="agreement">
          <label for="agreement">I understand that the profile information above will be displayed on Coffee at Columbia and I will be able to receive email requests from other Columbia students.</label>
        </div>
      </div>
    </div>

    <div class="field">
      <p>You can delete your account at any time to remove your public profile and stop receiving emails via Coffee at Columbia.</p>
    </div>

    <div class="fields">
      <button type="submit" class="waves-effect waves-light btn">Update Profile</button>
      <div class="gutter"></div>
      <button id="deleteprofile" class="waves-effect waves-light red darken-1 btn">Delete Profile</button>
    </div>

  </form>
</template>
